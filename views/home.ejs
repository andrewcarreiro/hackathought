<%
    //home.ejs
%>
<style type="text/css">
      html, body, #map { height: 100%; margin: 0; padding: 0;}
    </style>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=visualization,places"></script>
<div id="map" style="height: 100%; margin: 0; padding: 0; background:#222">map map</div>

<div id="search" style="position: absolute; top: 15px; right: 50px;">
  <button onclick="centerHere()">Click</button>
  <button id="info-panel-spawn">animate infopanel in</button>
</div>

<div class="info-panel" id="info-panel">
  <div class="top">
    <div class="icon headericon icon-family"></div>
    <h2>Place Name</h2>
    <h3>123 Fake Street, Toronto, ON M6H 3W3</h3>
    <div class="bot">
      Useful for: {THING 1}
    </div>
  </div>
  <div class="closer"></div>
  <div class="bottom">
    <!--
    <div class="icon icon-culture">culture</div>
    <div class="icon icon-family">family</div>
    <div class="icon icon-health">health</div>
    <div class="icon icon-legal">legal</div>
    <div class="icon icon-relationships">relationships</div>
    <div class="icon icon-spirituality">spirituality</div>
    <div class="icon icon-work">work</div>
    -->

  </div>
</div>

<script>
var my_important_json = {'json' : 'cool'};
var mp = new MapParser('map',my_important_json);
function centerHere() {
  mp.centerTo(mp.getCurrentPosition());
}
mp.importJson();
google.maps.event.addDomListener(window, 'load', mp.initialize);

var infopanel = new InfoPanel("info-panel");
$(document).ready(function(){
  $("#info-panel-spawn").on('click', function(){
    infopanel.open();
  })
});
</script>

<script type="text/tmpl">

</script>
